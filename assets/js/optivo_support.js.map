{"version":3,"sources":["optivo_support.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"optivo_support.js","sourcesContent":["(function ($) {\r\n    var App = {\r\n        app: this,\r\n        init: function () {\r\n            this.newsletterSupport();\r\n        },\r\n        checkEmail: function (e) {\r\n            var a=/^([\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4})?$/;return 0==a.test(e)||e.length<1?!1:!0\r\n        },\r\n        newsletterSupport: function () {\r\n            $('#optivo_subs_form button').on('click', function(){\r\n                var email = $(this).parent().find('input[name=optivo_subs_email]').val();\r\n                var rules = $(this).parent().find('input[name=accept_rules]');\r\n                var weText = $(this).closest('form').data('wrong-email');\r\n                var cEmail = App.checkEmail(email);\r\n\r\n                if(rules && rules.prop('checked') == false){\r\n                    $('#optivo_message').text('cos tam cost tam');\r\n                    return;\r\n                }\r\n\r\n                if(!cEmail){\r\n                    $('#optivo_message').text(weText);\r\n                } else {\r\n                    $(this).parent().remove('.message');\r\n                    var ajaxurl = '/wp-admin/admin-ajax.php';\r\n\r\n                    var postData = {};\r\n                    postData['action'] = 'optivo_action';\r\n                    postData['email'] = email;\r\n\r\n                    jQuery.post(ajaxurl, postData, function(response) {\r\n                       if(response) {\r\n                           $('#optivo_message').text(response);\r\n                       }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    $( document ).ready(function(){\r\n       App.init();\r\n    });\r\n\r\n})(jQuery);\r\n\r\n"]}